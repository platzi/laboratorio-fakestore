(()=>{"use strict";const e=document.getElementById("app"),t=Number("5"),n=Number("10"),r=Number("200"),a=((e,t)=>{const n=((e,t)=>function*(e,t){let n=0;for(;;)yield n+=t}(0,t))(0,t);return window.onload=window.localStorage.clear(),()=>{return e=n.next().value,window.localStorage.pagination=e,Number(window.localStorage.pagination);var e}})(0,n),o=e=>e.isIntersecting,c=((t,n)=>{const c=new IntersectionObserver((t=>{t.filter(o).forEach((t=>{const n=t.target;if(window.localStorage.pagination>=r)return(()=>{const t=document.createElement("div");t.innerHTML="<p> Todos los productos cargados",e.appendChild(t)})(),void c.unobserve(n);s(a(),10)}))}),{root:null,rootMargin:"0px 0px 0px 0px",threshold:.5});return e=>c.observe(e)})(),s=async r=>{try{const a=await(async e=>{const t=await fetch(e);return(await t.json()).map(((e,t)=>(e=>`\n  <article class="Card">\n    <img src="${e.images[0]}" />\n    <h2>\n      ${e.title}\n      <small>$ ${e.price}</small>\n    </h2>\n  </article>\n`)(e)))})("https://api.escuelajs.co/api/v1/products?offset=:start&limit=:number".replace(":start",r+t).replace(":number",n)),o=document.createElement("div");o.classList.add("Items");const c=a.map((e=>{const t=document.createElement("div");return t.innerHTML=e,t}));o.append(...c),e.appendChild(o)}catch(e){console.error(e)}};c(document.getElementById("observable"))})();